# @repo/types

Shared TypeScript types for the monorepo.

## Contents

- **Payload CMS Types**: Auto-generated types from `apps/cms` collections and globals

## Usage

```typescript
// Import Payload CMS types
import type { Page, Media, User, Settings } from '@repo/types';

// Or use the explicit payload export path
import type { Page } from '@repo/types/payload';
```

### Example with Payload SDK

```typescript
import { cmsClient } from '@/lib/cms-client';
import type { Page } from '@repo/types';

const pages = await cmsClient.find({
  collection: 'pages',
  where: { slug: { equals: 'home' } },
});

const page: Page = pages.docs[0];
```

## Generating Types

Types are automatically generated from the CMS schema:

```bash
# From the monorepo root
cd apps/cms
pnpm run generate:types:payload
```

This outputs types to `packages/types/src/payload-types.ts`, making them available to all apps.

## Adding Custom Types

To add custom shared types beyond Payload CMS:

1. Create a new `.ts` file in `src/` (e.g., `src/api-types.ts`)
2. Export from `src/index.ts`:
   ```typescript
   export * from "./api-types.js";
   ```
3. Optionally add a new export path in `package.json`

## Package Structure

```
packages/types/
├── src/
│   ├── index.ts           # Main export file
│   └── payload-types.ts   # Auto-generated by Payload CMS
├── package.json
├── tsconfig.json
└── README.md
```

## Technical Notes

- **Auto-generated**: `payload-types.ts` is generated by Payload - do not modify manually
- **Type-only package**: No runtime dependencies, pure TypeScript types
- **Clean generation**: Uses `declare: false` to avoid module augmentation in consuming apps
